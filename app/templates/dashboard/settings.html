{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>System Settings</h2>
  <form method="POST">
    <div class="form-check mb-3">
      <input type="checkbox" class="form-check-input" id="log_unauth" name="log_unauth" 
             {% if settings.log_unauth == "True" or settings.log_unauth == True %}checked{% endif %}>
      <label for="log_unauth" class="form-check-label">Log unauthorized access attempts</label>
    </div>

    <div class="row mb-3">
      <div class="col-md-4">
        <label class="form-label">Max Failed Logins</label>
        <input type="number" class="form-control" name="max_failed" value="{{ settings.max_failed }}">
      </div>
      <div class="col-md-4">
        <label class="form-label">Lockout (minutes)</label>
        <input type="number" class="form-control" name="lockout" value="{{ settings.lockout }}">
      </div>
    </div>

    <div class="form-check mb-3">
      <input type="checkbox" class="form-check-input" id="allow_reg" name="allow_reg"
             {% if settings.allow_reg == "True" or settings.allow_reg == True %}checked{% endif %}>
      <label for="allow_reg" class="form-check-label">Allow selfâ€‘registration</label>
    </div>


<h4>Password Complexity</h4>
<div class="row mb-3">
  <div class="col-md-3">
    <label class="form-label">Minimum Length</label>
    <input type="number" class="form-control" name="pw_length" value="{{ settings.pw_length }}">
  </div>
</div>

<div class="form-check">
  <input class="form-check-input" type="checkbox" name="upper" id="upper" {% if settings.require_upper %}checked{% endif %}>
  <label class="form-check-label" for="upper">Require Uppercase Letter</label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" name="number" id="number" {% if settings.require_number %}checked{% endif %}>
  <label class="form-check-label" for="number">Require Number</label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" name="symbol" id="symbol" {% if settings.require_symbol %}checked{% endif %}>
  <label class="form-check-label" for="symbol">Require Symbol</label>
</div>

    <button type="submit" class="btn btn-primary">Save Settings</button>
    <a href="{{ url_for('dashboard.super_admin') }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}